:root {
    --background: #f5f6fa;
    --app-background: #ffffff;
    --app-border: #d7d9e2;
    --strong-color: #000000;
    --text-color: #1a1a1f;
    --label-color: #5a5e6e;
    --shader-background: #ffffff;
    --shader-border: #c6c8d6;
    --box-shadow: rgba(0, 0, 0, 0.08); 
    --diagnostics-color: #3a3d4a;   
}

.dark-mode {
    --background: #0f0f10;
    --app-background: #1a1a1f;
    --app-border: #2a2a33;
    --strong-color: white;
    --text-color: #eaeaea;
    --label-color: #9ea0a8;
    --shader-background: black;
    --shader-border: #3a3a45;
    --box-shadow: rgba(0,0,0,0.8);
    --diagnostics-color: #c5c6d0;
}

/* ========================================================================== */
/* ============================== DESKTOP VIEW ============================== */
/* ========================================================================== */

/* Make the whole page center its content */
    body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        align-items: center;     
        justify-content: center;  
        background-color: var(--background);
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
                     Roboto, "Helvetica Neue", sans-serif;
        color: var(--text-color);
    }
    
    /* Wrapper so the title + app stay grouped */
    .page-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem; /* space between heading and app */
    }

    /* Heading & Dark/Light Mode Swticher */
    #title {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        margin-top: 12px;
    }

    #theme {
        display: flex;
        justify-content: flex-end;
        gap: 0.75rem;
        width: auto;
    }

    h1 {
        margin: 0;
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--strong-color);
        text-align: center;
    }
    
    /* The main app panel */
    #app {
        display: flex;
        flex-direction: row;
        gap: 1.5rem;
    
        background-color: var(--app-background);
        border: 1px solid var(--app-border);
        border-radius: 12px;
        padding: 1.25rem 1.5rem;
    
        box-shadow: 0 24px 48px var(--box-shadow);
        max-width: 900px;
        width: auto;
        box-sizing: border-box;
    
        color: var(--text-color);
        font-size: 0.9rem;
        line-height: 1.4;
    }
    
    #editor-container {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }
    
    #toggles {
        display: flex;
        align-items: center;
        justify-content: center;
        & label {
            margin: 0px;
        }
    }

    /* Canvas presentation */
    #canvas-container {
        align-items: center;
    }
    
    #shader-canvas {
        image-rendering: pixelated;
        border: 1px solid var(--shader-border);
        border-radius: 6px;
        background-color: var(--shader-background);
    }
    
    /* DPAD is for mobile users only */
    #dpad {
        display: none;
    }

    /* Layout columns inside the app */
    #right-side-panel {
        display: flex;
        flex-direction: column;
        width: 100%;
    }

    /* Performance Metrics Title */
    #right-side-panel > p {
        margin: 0px;
    }
    
    /* Diagnostics column */
    #diagnostics {
        font-size: 0.8rem;
        color: var(--diagnostics-color);
    }
    
    #diagnostics strong {
        color: var(--strong-color);
    }
    
    /* Style form controls a bit so dark mode isn't painful */
    label {
        display: block;
        font-size: 0.8rem;
        color: var(--label-color);
        margin-bottom: 0.25rem;
    }
    
    select {
        background-color: var(--app-border);
        color: var(--strong-color);
        border: 1px solid var(--shader-border);
        border-radius: 6px;
        padding: 0.4rem 0.5rem;
        font-size: 0.9rem;
        min-width: 160px;
    }
    
    #theme-switch {
        height: 48px;
        width: 48px;
        padding: 0;
        border-radius: 50%;
        background-color: var(--app-border);
        border: 1px solid var(--shader-border);
        display: flex;
        justify-content: center;
        align-items: center;
    }
    
    /*What the button looks like when clicked*/
    #theme-switch:active {
        transform: scale(0.98);   /* tiny press */
        filter: brightness(0.9);  /* darken a bit */
    }
    
    #theme-switch svg{
        fill: var(--strong-color)
    }
    
    /* Hide the dark mode icon in light mode (default) */
    #theme-switch svg:last-child {
        display: none;
    }
    
    /* In dark mode, show the dark mode icon and hide the light mode icon,
    which correspond to the first and last child respectively*/
    .dark-mode #theme-switch svg:first-child {
        display: none;
    }
    
    .dark-mode #theme-switch svg:last-child {
        display: block;
    }
 
/* ========================================================================== */
/* =============================== MOBILE VIEW ============================== */
/* ========================================================================== */
/* min-width testing 320px */

@media (max-width: 800px) {
    /* Wrapper so the title + app stay grouped */
    .page-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem; /* space between heading and app */
    }

    /* The main app panel */
    #app {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 1.5rem;

        background-color: var(--app-background);
        border: 1px solid var(--app-border);
        border-radius: 12px;
        padding: 12px 12px;

        box-shadow: 0 24px 48px var(--box-shadow);
        max-width: 900px;
        width: 90vw;
        box-sizing: border-box;

        color: var(--text-color);
        font-size: 0.9rem;
        line-height: 1.4;
    }

    #editor-container {
        display: flex;
        flex-direction: row;
        justify-content: center;
        flex-wrap: wrap;
        gap: 2%;
        min-width: 100%;
    }


    /* Canvas presentation */
    #canvas-container {
        align-items: center;
    }

    #shader-canvas {
        image-rendering: pixelated;
        border: 1px solid var(--shader-border);
        border-radius: 6px;
        background-color: var(--shader-background);
    }

    /* Mobile DPAD */
    #dpad {
        width: 200px;
        height: 100%;
        display: grid;
        margin-left: auto;
        margin-right: auto;
        place-items: center center;
    }

    #dpad > button {
        width: 64px;
        height: 64px;
        background-color: var(--background);
        color: var(--text-color);
        border-color: var(--app-background);
        border-radius: 6px;
    }

    #dpad > p {
        grid-row-start: 2;
        grid-column-start: 2;
        align-items: center;
        text-align: center;
    }

    button#left {
        grid-row-start: 2;
        grid-column-start: 1;
    }

    button#up {
        grid-row-start: 1;
        grid-column-start: 2;
    }

    button#down {
        grid-row-start: 3;
        grid-column-start: 2;
    }

    button#right {
        grid-row-start: 2;
        grid-column-start: 3;
    }

    /* Layout columns inside the app */
    #right-side-panel {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
    }

    /* Performance Metrics Title */
    #right-side-panel > p {
        margin: 0px;
    }

    /* Diagnostics column */
    #diagnostics {
        font-size: 0.8rem;
        color: var(--diagnostics-color);
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        text-align: center;
        gap: 5%;
    }

    #diagnostics > p {
        margin: 0px;
    }

    #controls {
        display: none;
        /* arrow key buttons to move camera around */
    }

    #diagnostics strong {
        color: var(--strong-color);
    }

    #theme {
        margin-top: auto;
        display: flex;
        justify-content: flex-end;
        gap: 0.75rem;
    }

    /* Style form controls a bit so dark mode isn't painful */
    label {
        display: block;
        font-size: 0.8rem;
        color: var(--label-color);
        margin-bottom: 0.25rem;
    }

    select {
        background-color: var(--app-border);
        color: var(--strong-color);
        border: 1px solid var(--shader-border);
        border-radius: 6px;
        padding: 6px 0px 6px 0px;
        font-size: 0.8rem;
    }
}

@media (max-width: 400px) {
    /* Theme Switching */
    #theme-switch {
        height: 36px;
        width: 36px;
    }

    #theme-switch svg {
        max-height: 20px;
        max-width: 20px;
    }
}